<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
  <link rel="stylesheet" href="public/css/style.css">
  <title>VaveLink ChatRooms</title>
</head>
<body>
  <video id="video-background" autoplay muted loop>
    <source src="public/Videos/Vavelink VLC3 101.mp4" type="video/mp4">
  </video>

  <div class="chat-container" id="C">
    <header class="chat-header">
      <div class="bar-container" onclick="toggleChatSidebar()">
        Details
      </div><h1>VaveLink ChatRooms</h1>
      <a href="index.html" class="btn">Leave Room</a>
    </header>

    
    <main class="chat-main">
      <div class="chat-sidebar" id="chatSidebar"><br>
        <h3><i class="fas fa-comments"></i> Room Name:</h3>
        <h2 id="room-name"></h2>
        <h3><i class="fas fa-users"></i> Users</h3>
        <ul id="users">
          
        </ul>
      </div>
      <div class="chat-messages"></div>
					
      
    </main>
    <div class="chat-form-container">
      <form id="chat-form">
        <input
          id="msg"
          type="text"
          placeholder="Enter Message"
          required
          autocomplete="off"
        />
        <button class="btn"><i class="fas fa-paper-plane"></i> Send</button>
      </form>
    </div>
  </div>

  <!-- Include qs library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.11.2/qs.js" integrity="sha512-xjPY2pO1GsrSGApvDELRMdGhJt/kTYnBbfR7VPLh/xgyJdN1gCZkz8Ru93f/rFN6Es48vhLU2RiZPylvRrieXg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Include Socket.IO script -->
<!-- but it could not load in github so replaced with a new one  >
<script src="/socket.io/socket.io.js"></script-->

<script src="https://cdn.socket.io/4.1.3/socket.io.min.js"></script>

<!-- Your main.js script -->
<script src="public/js/main.js"></script>
<script>
  function toggleChatSidebar() {
    var chatSidebar = document.getElementById('chatSidebar');
    var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;

    if (screenWidth > 700 || chatSidebar.style.display === 'none') {
      // Display the chat sidebar if screen size is above 700px or if it's currently hidden
      chatSidebar.style.display = 'block';
    } else {
      // Hide the chat sidebar for smaller screens
      chatSidebar.style.display = 'none';
    }
  }

  // Add an event listener to close the sidebar when the window is resized
  window.addEventListener('resize', function () {
    var chatSidebar = document.getElementById('chatSidebar');
    var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;

    if (screenWidth > 700) {
      // Display the chat sidebar if screen size is above 700px
      chatSidebar.style.display = 'block';
    } else {
      // Hide the chat sidebar for smaller screens
      chatSidebar.style.display = 'none';
    }
  });
</script>
</body>
</html>